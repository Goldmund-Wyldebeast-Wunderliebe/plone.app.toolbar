*** Variables ***

${PORT} =  55001
${ZOPE_URL} =  http://localhost:${PORT}
${PLONE_URL} =  ${ZOPE_URL}/plone
${BROWSER} =  Firefox
${TEST_FOLDER} =  ${PLONE_URL}/acceptance-test-folder


*** Settings ***
Library  Selenium2Library  timeout=10  implicit_wait=0.5

Resource  plone/act/keywords.txt

Suite Setup  Open browser  ${PLONE_URL}

Suite Teardown  Close All Browsers


*** Test cases ***

Anonymous should'nt see toolbar
    Log out
    Page Should Not Contain Element  id=plone-toolbar

Logged in should see toolbar
    Toolbar Log in  test-user  secret
    #Log in as site owner
    Page Should Contain Element  id=plone-toolbar


*** Keywords ***

Toolbar Log in
    [Arguments]  ${userid}  ${password}
    Go to  ${PLONE_URL}/login_form
    Page should contain element  __ac_name
    Input text  __ac_name  ${userid}
    Input text  __ac_password  ${password}
    Click Button  Log in
    #Page should contain element  css=#user-name 
    Go to  ${PLONE_URL}
    [Return]  True
